<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>盗版监测平台上传演示</title>
</head>
<script src="js/jquery-3.1.1.min.js"></script>
<script>
    $('#mytable').on('click()', 'tr',function(){
        alert('dkjkk')
    });
//别忘了导入该用的js文件
function update(){
    $.ajax({
        url: '/update', //请求的url
        type: 'post', //请求的方式
        timeout:2000,
        async:true,
        //data: $('#keyword').serialize(), //form表单里要提交的内容，里面的input等写上name就会提交，这是序列化
        error:function (data) {
           // alert('请求失败');
        },
        success:function (data) {
            //alert(data)
            var obj = $.parseJSON(data)
            //alert(obj.data)
            //alert(obj.data.length)
            var str1 = "";
            //清空table中的html
            $("#test").html("");
            for(var i = 0;i<obj.data.length;i++){
                //alert(obj.data[i][2])
                str1 = "<tr>" + 
                    "<td>"+obj.data[i][0] + "</td>" +
                    "<td>"+obj.data[i][1] + "</td>" +
                    "<td>"+obj.data[i][2] + "</td>" +
                    "</tr>";
                $("#test").append(str1);
            }
        }
    });
}
function subForm() {
    $.ajax({
        url: '/search', //请求的url
        type: 'post', //请求的方式
        timeout:2000,
        async:true,
        dataType:'json',
        data: {'keyword':$("#keyword").val()}, //form表单里要提交的内容，里面的input等写上name就会提交，这是序列化
        error:function (data) {
            alert('请求失败');
        },
        success:function (data) {
            //alert(data)
        }
    });
    setInterval("update();",2000);
}
</script>
<body>
    <h3># 配置&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button type="button" title="Filter" class="button-new" style="margin-top:15px;" onclick="subForm()">添加配置</button></h3>
        <input type="text" class="txt_input" name="ID"  value="" style="margin-top:10px;" id="ID"/>
        <input type="text" class="txt_input" name="NameContains"  value="" style="margin-top:10px;" id="NameContains"/>
        <input type="text" class="txt_input" name="DomainContains"  value="" style="margin-top:10px;" id="DomainContains"/>
        <select name="sel">
                <option value="1">Unknown</option>
         </select>
         <select name="sel1">
                <option value="1">Unknown</option>
         </select>
         <select name="sel2">
                <option value="1">Unknown</option>
         </select>
         <select name="sel3">
                <option value="1">Unknown</option>
         </select>
        <button type="button" title="Filter" class="button-new" style="margin-top:15px;" onclick="">过滤</button>
    <table id="mytable" border="2">
        <thead>
        <th>ID</th>
        <th>创建时间</th>
        <th>影片名</th>
        <th>域名</th>
        <th>关键词</th>
        <th>Cyberlocker</th>
        <th>开发者</th>
        <th>禁止</th>
        <th>编辑</th>
        <th>删除</th>
        <th>查看</th>
        <tr>
            <td>3574</td>
            <td>2019-08-13 15:08:30</td>
            <td>权力的游戏</td>
            <td>www.XXXX.com</td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
            <td>X</td>
            <td><button type="button" title="edit" class="button-new" style="margin-top:0px;" onclick="">编辑</button></td>
            <td><button type="button" title="delete" class="button-new" style="margin-top:0px;" onclick="">删除</button></td>
            <td><button type="button" title="View" class="button-new" style="margin-top:0px;" onclick="">查看</button></td>
        </tr>
        </thead>
        <tbody id=" ">
        </tbody>
    </table>
    <div class="intrduction">
        影片介绍
    </div>
</body>
</html>